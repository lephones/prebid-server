
<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>eplanning: Go Coverage Report</title>
		<style>
			body {
				background: black;
				color: rgb(80, 80, 80);
			}
			body, pre, #legend span {
				font-family: Menlo, monospace;
				font-weight: bold;
			}
			#topbar {
				background: black;
				position: fixed;
				top: 0; left: 0; right: 0;
				height: 42px;
				border-bottom: 1px solid rgb(80, 80, 80);
			}
			#content {
				margin-top: 50px;
			}
			#nav, #legend {
				float: left;
				margin-left: 10px;
			}
			#legend {
				margin-top: 12px;
			}
			#nav {
				margin-top: 10px;
			}
			#legend span {
				margin: 0 5px;
			}
			.cov0 { color: rgb(192, 0, 0) }
.cov1 { color: rgb(128, 128, 128) }
.cov2 { color: rgb(116, 140, 131) }
.cov3 { color: rgb(104, 152, 134) }
.cov4 { color: rgb(92, 164, 137) }
.cov5 { color: rgb(80, 176, 140) }
.cov6 { color: rgb(68, 188, 143) }
.cov7 { color: rgb(56, 200, 146) }
.cov8 { color: rgb(44, 212, 149) }
.cov9 { color: rgb(32, 224, 152) }
.cov10 { color: rgb(20, 236, 155) }

		</style>
	</head>
	<body>
		<div id="topbar">
			<div id="nav">
				<select id="files">
				
				<option value="file0">github.com/prebid/prebid-server/v3/adapters/eplanning/eplanning.go (95.4%)</option>
				
				</select>
			</div>
			<div id="legend">
				<span>not tracked</span>
			
				<span class="cov0">not covered</span>
				<span class="cov8">covered</span>
			
			</div>
		</div>
		<div id="content">
		
		<pre class="file" id="file0" style="display: none">package eplanning

import (
        "encoding/json"
        "math/rand"
        "net/http"
        "net/url"
        "regexp"
        "strings"

        "fmt"

        "github.com/prebid/openrtb/v20/adcom1"
        "github.com/prebid/openrtb/v20/openrtb2"
        "github.com/prebid/prebid-server/v3/adapters"
        "github.com/prebid/prebid-server/v3/config"
        "github.com/prebid/prebid-server/v3/errortypes"
        "github.com/prebid/prebid-server/v3/openrtb_ext"
        "github.com/prebid/prebid-server/v3/util/jsonutil"

        "strconv"
)

const nullSize = "1x1"
const defaultPageURL = "FILE"
const sec = "ROS"
const dfpClientID = "1"
const requestTargetInventory = "1"
const vastInstream = 1
const vastOutstream = 2
const vastVersionDefault = "3"
const vastDefaultSize = "640x480"
const impTypeBanner = 0

var priorityOrderForMobileSizesAsc = []string{"1x1", "300x50", "320x50", "300x250"}
var priorityOrderForDesktopSizesAsc = []string{"1x1", "970x90", "970x250", "160x600", "300x600", "728x90", "300x250"}

var cleanNameSteps = []cleanNameStep{
        {regexp.MustCompile(`_|\.|-|\/`), ""},
        {regexp.MustCompile(`\)\(|\(|\)|:`), "_"},
        {regexp.MustCompile(`^_+|_+$`), ""},
}

type cleanNameStep struct {
        expression        *regexp.Regexp
        replacementString string
}

type EPlanningAdapter struct {
        URI     string
        testing bool
}

type hbResponse struct {
        Spaces []hbResponseSpace `json:"sp"`
}

type hbResponseSpace struct {
        Name string         `json:"k"`
        Ads  []hbResponseAd `json:"a"`
}

type hbResponseAd struct {
        ImpressionID string `json:"i"`
        AdID         string `json:"id,omitempty"`
        Price        string `json:"pr"`
        AdM          string `json:"adm"`
        CrID         string `json:"crid"`
        Adomain      string `json:"adom,omitempty"`
        Width        uint64 `json:"w,omitempty"`
        Height       uint64 `json:"h,omitempty"`
}

func (adapter *EPlanningAdapter) MakeRequests(request *openrtb2.BidRequest, reqInfo *adapters.ExtraRequestInfo) ([]*adapters.RequestData, []error) <span class="cov8" title="1">{
        errors := make([]error, 0, len(request.Imp))
        totalImps := len(request.Imp)
        spacesStrings := make([]string, 0, totalImps)
        totalRequests := 0
        clientID := ""
        isMobile := isMobileDevice(request)
        impType := getImpTypeRequest(request, totalImps)
        index_vast := 0

        for i := 0; i &lt; totalImps; i++ </span><span class="cov8" title="1">{
                imp := request.Imp[i]
                extImp, err := verifyImp(&amp;imp, isMobile, impType)
                if err != nil </span><span class="cov8" title="1">{
                        errors = append(errors, err)
                        continue</span>
                }

                <span class="cov8" title="1">if clientID == "" </span><span class="cov8" title="1">{
                        clientID = extImp.ClientID
                }</span>

                <span class="cov8" title="1">totalRequests++
                // Save valid imp
                name := cleanName(extImp.AdUnitCode)
                if imp.Video != nil </span><span class="cov8" title="1">{
                        name = getNameVideo(extImp.SizeString, index_vast)
                        spacesStrings = append(spacesStrings, name+":"+extImp.SizeString+";1")
                        index_vast++
                }</span> else<span class="cov8" title="1"> {
                        spacesStrings = append(spacesStrings, name+":"+extImp.SizeString)
                }</span>

        }

        <span class="cov8" title="1">if totalRequests == 0 </span><span class="cov8" title="1">{
                return nil, errors
        }</span>

        <span class="cov8" title="1">headers := http.Header{}
        headers.Add("Content-Type", "application/json")
        headers.Add("Accept", "application/json")
        ip := ""
        if request.Device != nil </span><span class="cov8" title="1">{
                ip = request.Device.IP
                addHeaderIfNonEmpty(headers, "User-Agent", request.Device.UA)
                addHeaderIfNonEmpty(headers, "X-Forwarded-For", ip)
                addHeaderIfNonEmpty(headers, "Accept-Language", request.Device.Language)
                if request.Device.DNT != nil </span><span class="cov8" title="1">{
                        addHeaderIfNonEmpty(headers, "DNT", strconv.Itoa(int(*request.Device.DNT)))
                }</span>
        }

        <span class="cov8" title="1">pageURL := defaultPageURL
        if request.Site != nil &amp;&amp; request.Site.Page != "" </span><span class="cov8" title="1">{
                pageURL = request.Site.Page
        }</span>

        <span class="cov8" title="1">pageDomain := defaultPageURL
        if request.Site != nil </span><span class="cov8" title="1">{
                if request.Site.Domain != "" </span><span class="cov8" title="1">{
                        pageDomain = request.Site.Domain
                }</span> else<span class="cov8" title="1"> if request.Site.Page != "" </span><span class="cov8" title="1">{
                        u, err := url.Parse(request.Site.Page)
                        if err != nil </span><span class="cov8" title="1">{
                                errors = append(errors, err)
                                return nil, errors
                        }</span>
                        <span class="cov8" title="1">pageDomain = u.Hostname()</span>
                }
        }

        <span class="cov8" title="1">requestTarget := pageDomain
        if request.App != nil &amp;&amp; request.App.Bundle != "" </span><span class="cov8" title="1">{
                requestTarget = request.App.Bundle
        }</span>

        <span class="cov8" title="1">uriObj, err := url.Parse(adapter.URI)
        if err != nil </span><span class="cov0" title="0">{
                errors = append(errors, err)
                return nil, errors
        }</span>

        <span class="cov8" title="1">uriObj.Path = uriObj.Path + fmt.Sprintf("/%s/%s/%s/%s", clientID, dfpClientID, requestTarget, sec)
        query := url.Values{}
        query.Set("ncb", "1")
        if request.App == nil </span><span class="cov8" title="1">{
                query.Set("ur", pageURL)
        }</span>
        <span class="cov8" title="1">query.Set("e", strings.Join(spacesStrings, "+"))

        if request.User != nil &amp;&amp; request.User.BuyerUID != "" </span><span class="cov8" title="1">{
                query.Set("uid", request.User.BuyerUID)
        }</span>

        <span class="cov8" title="1">if ip != "" </span><span class="cov8" title="1">{
                query.Set("ip", ip)
        }</span>

        <span class="cov8" title="1">var body []byte
        if adapter.testing </span><span class="cov8" title="1">{
                body = []byte("{}")
        }</span> else<span class="cov0" title="0"> {
                t := strconv.Itoa(rand.Int())
                query.Set("rnd", t)
                body = nil
        }</span>

        <span class="cov8" title="1">if request.App != nil </span><span class="cov8" title="1">{
                if request.App.Name != "" </span><span class="cov8" title="1">{
                        query.Set("appn", request.App.Name)
                }</span>
                <span class="cov8" title="1">if request.App.ID != "" </span><span class="cov8" title="1">{
                        query.Set("appid", request.App.ID)
                }</span>
                <span class="cov8" title="1">if request.Device != nil &amp;&amp; request.Device.IFA != "" </span><span class="cov8" title="1">{
                        query.Set("ifa", request.Device.IFA)
                }</span>
                <span class="cov8" title="1">query.Set("app", requestTargetInventory)</span>
        }

        <span class="cov8" title="1">if impType &gt; 0 </span><span class="cov8" title="1">{
                query.Set("vctx", strconv.Itoa(impType))
                query.Set("vv", vastVersionDefault)
        }</span>
        <span class="cov8" title="1">if request.Source != nil &amp;&amp; request.Source.Ext != nil </span><span class="cov8" title="1">{
                err := setSchain(request.Source.Ext, &amp;query)
                if err != nil </span><span class="cov8" title="1">{
                        errors = append(errors, err)
                        return nil, errors
                }</span>
        }

        <span class="cov8" title="1">uriObj.RawQuery = query.Encode()
        uri := uriObj.String()

        requestData := adapters.RequestData{
                Method:  "GET",
                Uri:     uri,
                Body:    body,
                Headers: headers,
                ImpIDs:  openrtb_ext.GetImpIDs(request.Imp),
        }

        requests := []*adapters.RequestData{&amp;requestData}

        return requests, errors</span>
}

func setSchain(ext json.RawMessage, query *url.Values) error <span class="cov8" title="1">{
        openRtbSchain, err := unmarshalSupplyChain(ext)
        if err != nil </span><span class="cov8" title="1">{
                return err
        }</span>
        <span class="cov8" title="1">if openRtbSchain == nil || len(openRtbSchain.Nodes) &gt; 2 </span><span class="cov8" title="1">{
                return nil
        }</span>

        <span class="cov8" title="1">schainValue, err := makeSupplyChain(*openRtbSchain)
        if err != nil </span><span class="cov0" title="0">{
                return err
        }</span>

        <span class="cov8" title="1">if schainValue != "" </span><span class="cov8" title="1">{
                query.Set("sch", schainValue)
        }</span>

        <span class="cov8" title="1">return nil</span>
}

func unmarshalSupplyChain(ext json.RawMessage) (*openrtb2.SupplyChain, error) <span class="cov8" title="1">{
        var extSChain openrtb_ext.ExtRequestPrebidSChain
        err := jsonutil.Unmarshal(ext, &amp;extSChain)
        if err != nil </span><span class="cov8" title="1">{
                return nil, err
        }</span>
        <span class="cov8" title="1">return &amp;extSChain.SChain, nil</span>
}

func makeSupplyChain(openRtbSchain openrtb2.SupplyChain) (string, error) <span class="cov8" title="1">{
        if len(openRtbSchain.Nodes) == 0 </span><span class="cov8" title="1">{
                return "", nil
        }</span>

        <span class="cov8" title="1">const schainPrefixFmt = "%s,%d"
        const schainNodeFmt = "!%s,%s,%s,%s,%s,%s,%s"
        schainPrefix := fmt.Sprintf(schainPrefixFmt, openRtbSchain.Ver, openRtbSchain.Complete)
        var sb strings.Builder
        sb.WriteString(schainPrefix)
        for _, node := range openRtbSchain.Nodes </span><span class="cov8" title="1">{
                nodeValues := []any{
                        node.ASI, node.SID, node.HP, node.RID, node.Name, node.Domain, node.Ext,
                }
                formattedValues, err := formatNodeValues(nodeValues)
                if err != nil </span><span class="cov0" title="0">{
                        return "", err
                }</span>

                <span class="cov8" title="1">schainNode := fmt.Sprintf(schainNodeFmt, formattedValues...)
                sb.WriteString(schainNode)</span>
        }

        <span class="cov8" title="1">return sb.String(), nil</span>
}

func formatNodeValues(nodeValues []any) ([]any, error) <span class="cov8" title="1">{
        var formattedValues []any
        for _, value := range nodeValues </span><span class="cov8" title="1">{
                formattedValue, err := makeNodeValue(value)
                if err != nil </span><span class="cov0" title="0">{
                        return nil, err
                }</span>
                <span class="cov8" title="1">formattedValues = append(formattedValues, formattedValue)</span>
        }
        <span class="cov8" title="1">return formattedValues, nil</span>
}

func makeNodeValue(nodeParam any) (string, error) <span class="cov8" title="1">{
        switch nodeParam := nodeParam.(type) </span>{
        case string:<span class="cov8" title="1">
                // url.QueryEscape() follows the application/x-www-form-urlencoded convention, which encodes spaces as + and RFC 3986 encodes as %20
                return strings.ReplaceAll(url.QueryEscape(nodeParam), "+", "%20"), nil</span>
        case *int8:<span class="cov8" title="1">
                pointer := nodeParam
                if pointer == nil </span><span class="cov8" title="1">{
                        return "", nil
                }</span>
                <span class="cov8" title="1">return makeNodeValue(int(*pointer))</span>
        case int:<span class="cov8" title="1">
                return strconv.Itoa(nodeParam), nil</span>
        case json.RawMessage:<span class="cov8" title="1">
                if nodeParam != nil </span><span class="cov8" title="1">{
                        freeFormJson, err := json.Marshal(nodeParam)
                        if err != nil </span><span class="cov0" title="0">{
                                return "", err
                        }</span>
                        <span class="cov8" title="1">return makeNodeValue(string(freeFormJson))</span>
                }
                <span class="cov8" title="1">return "", nil</span>
        default:<span class="cov0" title="0">
                return "", nil</span>
        }
}

func isMobileDevice(request *openrtb2.BidRequest) bool <span class="cov8" title="1">{
        return request.Device != nil &amp;&amp; (request.Device.DeviceType == adcom1.DeviceMobile || request.Device.DeviceType == adcom1.DevicePhone || request.Device.DeviceType == adcom1.DeviceTablet)
}</span>

func getImpTypeRequest(request *openrtb2.BidRequest, totalImps int) int <span class="cov8" title="1">{

        impType := impTypeBanner
        for i := 0; i &lt; totalImps; i++ </span><span class="cov8" title="1">{
                imp := request.Imp[i]
                if imp.Video != nil </span><span class="cov8" title="1">{
                        if imp.Video.Placement == vastInstream </span><span class="cov8" title="1">{
                                impType = vastInstream
                        }</span> else<span class="cov8" title="1"> if impType == impTypeBanner </span><span class="cov8" title="1">{
                                impType = vastOutstream
                        }</span>
                }
        }

        <span class="cov8" title="1">return impType</span>

}
func cleanName(name string) string <span class="cov8" title="1">{
        for _, step := range cleanNameSteps </span><span class="cov8" title="1">{
                name = step.expression.ReplaceAllString(name, step.replacementString)
        }</span>
        <span class="cov8" title="1">return name</span>
}

func verifyImp(imp *openrtb2.Imp, isMobile bool, impType int) (*openrtb_ext.ExtImpEPlanning, error) <span class="cov8" title="1">{
        var bidderExt adapters.ExtImpBidder

        if err := jsonutil.Unmarshal(imp.Ext, &amp;bidderExt); err != nil </span><span class="cov0" title="0">{
                return nil, &amp;errortypes.BadInput{
                        Message: fmt.Sprintf("Ignoring imp id=%s, error while decoding extImpBidder, err: %s", imp.ID, err),
                }
        }</span>

        <span class="cov8" title="1">if impType &gt; impTypeBanner </span><span class="cov8" title="1">{
                if impType == vastInstream </span><span class="cov8" title="1">{
                        // In-stream
                        if imp.Video == nil || imp.Video.Placement != vastInstream </span><span class="cov8" title="1">{
                                return nil, &amp;errortypes.BadInput{
                                        Message: fmt.Sprintf("Ignoring imp id=%s, auction instream and imp no instream", imp.ID),
                                }
                        }</span>
                } else<span class="cov8" title="1"> {
                        //Out-stream
                        if imp.Video == nil || imp.Video.Placement == vastInstream </span><span class="cov8" title="1">{
                                return nil, &amp;errortypes.BadInput{
                                        Message: fmt.Sprintf("Ignoring imp id=%s, auction outstream and imp no outstream", imp.ID),
                                }
                        }</span>
                }
        }

        <span class="cov8" title="1">impExt := openrtb_ext.ExtImpEPlanning{}
        err := jsonutil.Unmarshal(bidderExt.Bidder, &amp;impExt)
        if err != nil </span><span class="cov8" title="1">{
                return nil, &amp;errortypes.BadInput{
                        Message: fmt.Sprintf("Ignoring imp id=%s, error while decoding impExt, err: %s", imp.ID, err),
                }
        }</span>

        <span class="cov8" title="1">if impExt.ClientID == "" </span><span class="cov8" title="1">{
                return nil, &amp;errortypes.BadInput{
                        Message: fmt.Sprintf("Ignoring imp id=%s, no ClientID present", imp.ID),
                }
        }</span>

        <span class="cov8" title="1">width, height := getSizeFromImp(imp, isMobile)

        if width == 0 &amp;&amp; height == 0 </span><span class="cov8" title="1">{
                if imp.Video != nil </span><span class="cov8" title="1">{
                        impExt.SizeString = vastDefaultSize
                }</span> else<span class="cov8" title="1"> {
                        impExt.SizeString = nullSize
                }</span>
        } else<span class="cov8" title="1"> {
                impExt.SizeString = fmt.Sprintf("%dx%d", width, height)
        }</span>

        <span class="cov8" title="1">if impExt.AdUnitCode == "" </span><span class="cov8" title="1">{
                impExt.AdUnitCode = impExt.SizeString
        }</span>

        <span class="cov8" title="1">return &amp;impExt, nil</span>
}

func searchSizePriority(hashedFormats map[string]int, format []openrtb2.Format, priorityOrderForSizesAsc []string) (int64, int64) <span class="cov8" title="1">{
        for i := len(priorityOrderForSizesAsc) - 1; i &gt;= 0; i-- </span><span class="cov8" title="1">{
                if formatIndex, wasFound := hashedFormats[priorityOrderForSizesAsc[i]]; wasFound </span><span class="cov8" title="1">{
                        return format[formatIndex].W, format[formatIndex].H
                }</span>
        }
        <span class="cov8" title="1">return format[0].W, format[0].H</span>
}

func getSizeFromImp(imp *openrtb2.Imp, isMobile bool) (int64, int64) <span class="cov8" title="1">{

        if imp.Video != nil &amp;&amp; imp.Video.W != nil &amp;&amp; *imp.Video.W &gt; 0 &amp;&amp; imp.Video.H != nil &amp;&amp; *imp.Video.H &gt; 0 </span><span class="cov8" title="1">{
                return *imp.Video.W, *imp.Video.H
        }</span>

        <span class="cov8" title="1">if imp.Banner != nil </span><span class="cov8" title="1">{
                if imp.Banner.W != nil &amp;&amp; imp.Banner.H != nil </span><span class="cov8" title="1">{
                        return *imp.Banner.W, *imp.Banner.H
                }</span>

                <span class="cov8" title="1">if imp.Banner.Format != nil </span><span class="cov8" title="1">{
                        hashedFormats := make(map[string]int, len(imp.Banner.Format))

                        for i, format := range imp.Banner.Format </span><span class="cov8" title="1">{
                                if format.W != 0 &amp;&amp; format.H != 0 </span><span class="cov8" title="1">{
                                        hashedFormats[fmt.Sprintf("%dx%d", format.W, format.H)] = i
                                }</span>
                        }

                        <span class="cov8" title="1">if isMobile </span><span class="cov8" title="1">{
                                return searchSizePriority(hashedFormats, imp.Banner.Format, priorityOrderForMobileSizesAsc)
                        }</span> else<span class="cov8" title="1"> {
                                return searchSizePriority(hashedFormats, imp.Banner.Format, priorityOrderForDesktopSizesAsc)
                        }</span>
                }
        }

        <span class="cov8" title="1">return 0, 0</span>
}

func addHeaderIfNonEmpty(headers http.Header, headerName string, headerValue string) <span class="cov8" title="1">{
        if len(headerValue) &gt; 0 </span><span class="cov8" title="1">{
                headers.Add(headerName, headerValue)
        }</span>
}

func (adapter *EPlanningAdapter) MakeBids(internalRequest *openrtb2.BidRequest, externalRequest *adapters.RequestData, response *adapters.ResponseData) (*adapters.BidderResponse, []error) <span class="cov8" title="1">{
        if response.StatusCode == http.StatusNoContent </span><span class="cov8" title="1">{
                return nil, nil
        }</span>

        <span class="cov8" title="1">if response.StatusCode == http.StatusBadRequest </span><span class="cov8" title="1">{
                return nil, []error{&amp;errortypes.BadInput{
                        Message: fmt.Sprintf("Unexpected status code: %d. Run with request.debug = 1 for more info", response.StatusCode),
                }}
        }</span>

        <span class="cov8" title="1">if response.StatusCode != http.StatusOK </span><span class="cov8" title="1">{
                return nil, []error{&amp;errortypes.BadServerResponse{
                        Message: fmt.Sprintf("Unexpected status code: %d. Run with request.debug = 1 for more info", response.StatusCode),
                }}
        }</span>

        <span class="cov8" title="1">var parsedResponse hbResponse
        if err := jsonutil.Unmarshal(response.Body, &amp;parsedResponse); err != nil </span><span class="cov8" title="1">{
                return nil, []error{&amp;errortypes.BadServerResponse{
                        Message: fmt.Sprintf("Error unmarshaling HB response: %s", err.Error()),
                }}
        }</span>

        <span class="cov8" title="1">isMobile := isMobileDevice(internalRequest)
        impType := getImpTypeRequest(internalRequest, len(internalRequest.Imp))

        bidResponse := adapters.NewBidderResponse()

        spaceNameToImpID := make(map[string]string)

        index_vast := 0
        for _, imp := range internalRequest.Imp </span><span class="cov8" title="1">{
                extImp, err := verifyImp(&amp;imp, isMobile, impType)
                if err != nil </span><span class="cov8" title="1">{
                        continue</span>
                }

                <span class="cov8" title="1">name := cleanName(extImp.AdUnitCode)
                if imp.Video != nil </span><span class="cov8" title="1">{
                        name = getNameVideo(extImp.SizeString, index_vast)
                        index_vast++
                }</span>
                <span class="cov8" title="1">spaceNameToImpID[name] = imp.ID</span>
        }

        <span class="cov8" title="1">for _, space := range parsedResponse.Spaces </span><span class="cov8" title="1">{
                for _, ad := range space.Ads </span><span class="cov8" title="1">{
                        if price, err := strconv.ParseFloat(ad.Price, 64); err == nil </span><span class="cov8" title="1">{
                                bid := openrtb2.Bid{
                                        ID:    ad.ImpressionID,
                                        AdID:  ad.AdID,
                                        ImpID: spaceNameToImpID[space.Name],
                                        Price: price,
                                        AdM:   ad.AdM,
                                        CrID:  ad.CrID,
                                        W:     int64(ad.Width),
                                        H:     int64(ad.Height),
                                }

                                if ad.Adomain != "" </span><span class="cov8" title="1">{
                                        bid.ADomain = []string{ad.Adomain}
                                }</span>

                                <span class="cov8" title="1">bidResponse.Bids = append(bidResponse.Bids, &amp;adapters.TypedBid{
                                        Bid:     &amp;bid,
                                        BidType: getBidType(impType),
                                })</span>
                        }
                }
        }

        <span class="cov8" title="1">return bidResponse, nil</span>
}

func getBidType(impType int) openrtb_ext.BidType <span class="cov8" title="1">{

        bidType := openrtb_ext.BidTypeBanner
        if impType &gt; 0 </span><span class="cov8" title="1">{
                bidType = openrtb_ext.BidTypeVideo
        }</span>
        <span class="cov8" title="1">return bidType</span>
}

func getNameVideo(size string, index_vast int) string <span class="cov8" title="1">{
        return "video_" + size + "_" + strconv.Itoa(index_vast)
}</span>

// Builder builds a new instance of the EPlanning adapter for the given bidder with the given config.
func Builder(bidderName openrtb_ext.BidderName, config config.Adapter, server config.Server) (adapters.Bidder, error) <span class="cov8" title="1">{
        bidder := &amp;EPlanningAdapter{
                URI:     config.Endpoint,
                testing: false,
        }
        return bidder, nil
}</span>
</pre>
		
		</div>
	</body>
	<script>
	(function() {
		var files = document.getElementById('files');
		var visible;
		files.addEventListener('change', onChange, false);
		function select(part) {
			if (visible)
				visible.style.display = 'none';
			visible = document.getElementById(part);
			if (!visible)
				return;
			files.value = part;
			visible.style.display = 'block';
			location.hash = part;
		}
		function onChange() {
			select(files.value);
			window.scrollTo(0, 0);
		}
		if (location.hash != "") {
			select(location.hash.substr(1));
		}
		if (!visible) {
			select("file0");
		}
	})();
	</script>
</html>
